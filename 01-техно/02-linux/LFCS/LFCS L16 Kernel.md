# Linux Foundation Certified System Administrator (LFCS)

## Lesson 16 Ядро линукс

#### Основы

* работает с аппартной частью через драйверы (модули)
* приложения не работают напрямую с ядром, а через системные вызовы (system call)
* `/proc` содержит настройки ядра

#### Работа с модулями

* `lsmod` показывает список загруженных модулей
    - последние колонки показывают зависимости
* `modprobe <имя модуля>` - загружает модуль
* `modprobe -r <имя модуля>` - выгружает модуль (если есть зависимости, сналала нужно выгрузить их)
* `modinfo <имя модуля>` - показывает инфо о модуле
* в т.ч. список параметров, которые можно указывать при загрузке
    - `modprobe cdrom autoclose=1`
* постоянные настройки при автозагрузке указываются в `/etc/modprobe.d/` в файлах типа cdrom.conf

#### Оптимизация ядра через `/proc`

* `cd /proc` различные статусные файлы `/proc/partitions`, `/proc/meminfo`
* `/proc/sys/` - настройки системы
* напр `echo 1 > /proc/sys/net/ipv6/conf/all/disable_ipv6` отключает ipv6 (до перезагрузки)
* для постоянных настроек:
    - смотрим `/etc/sysctl.conf` (перенаправяет на `/etc/sysctl.d`)
    - создаем файл (имя любое) с расширением .conf в `/etc/sysctl.d`
    - `echo net.ipv6.conf.all.disable_ipv6 = 1 > ipv6.conf` 
* просмотр всех настроек ядра `sysctl -a`
