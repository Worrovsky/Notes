# Linux Foundation Certified System Administrator (LFCS)

## Lesson 13 Установка ПО

#### Основы

* 2 варианта 
    - установка из пакетов
    - из исходных кодов
* типы пакетов
    - RPM-пакеты (Red Hat и производные: Fedora, CentOS, Mandriva)
    - DEP-пакеты (Debian и производные: Ubuntu)
* установка из исходников:
    - распаковываем архив
    - выполняем `./configure` (проверка наличия библиотек), при этом создается файл `Makefile`
    - выполняем `make` (компиляция)
    - выполняем `make install` (установка программы в `/usr/bin`, `/usr/share/doc`  и др.)
* пакет - архив с файлами программы и служебной информацией
    - по путям, куда копировать какие файлы
    - дополнительные действия (создание каталогов, настройка прав)
    - зависимости
* имя пакета `program-1.5-14.i586.rpm`
    - program - имя пакета
    - 1.5 - версия программы
    - 14 - выпуск пакета
    - i586 - архитектура системы, если независима от архитектуры - `noarch`


#### Программы для управления пакетами

* Типы:
    - простые, текстовые, без разрешения зависимостей
        + **rpm** - Red Hat, openSuse
        + **dpkg** - Debian, Ubuntu
    - полноценные, текстовые, с разрешением зависимостей
        + **urpmi** - Mandriva
        + **apt** - Debian, Ubuntu
        + **yum** - Red Hat
    - графические, полноценные
        + **rpmdrake** - Mandrake, Mandriva
        + **gpk-application** - Fedora

#### rpm

* в основном применяется для просмотра, анализа
* установка - через **yum** (менеджер пакетов верхнего уровня)
* просмотр - с параметром `q`
    - `rpm -qa|grep <имя пакета>` - проверка, установлен ли пакет
    - `rpm -qi имя пакета>` - инфо о пакете
    - `rpm -ql <имя пакета>` - вывод списка файлов в составе пакета
    - `rpm -qa|grep more` - вывод всех пакетов


#### yum

* задачи
    - поиск пакета в репозиториях (устанавливаются в конф. файлах)
    - разрешение зависимостей
    - скачивание, установка
* общий формат команд `yum <команда> <пакет(ы)>`
* основные команды
    - `yum install <пакет>` - установка с зависимостями
    - `yum remove <пакет>` - удаление + всех, что зависят от удаляемого
    - `yum update` - обновить все пакеты
    - `yum update <пакет>` - обновить конкретный пакет
    - `yum check-update` - проверка обновлений, без установки
    - `yum check-update <пакет>` - проверка обновлений конкретного
    - `yum info <пакет>` - инфо о пакете
    - `yum list` - вывод списка пакетов (в т.ч. в репозиториях)
        + поиск через grep или через РВ `yum list abc*`
    - `yum search <строка поиска>` - поиск по описанию
    - `yum groupinstall <группа>` - установка пакет из группы
    - `yum grouplist` - вывод списка групп
* общие настройки репозиториев задаются в `/etc/yum.conf`
* конкретные репозитории перечислены в `/etc/yum.repo.d/` в repo-файлах
    - указаны url, зеркала, флаг использования (enable)
* репозитории устанавливаются как обычные пакеты


 

