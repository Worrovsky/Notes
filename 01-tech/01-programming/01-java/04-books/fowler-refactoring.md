Фаулер Рефакторинг

Гл. 3 

    Признаки:
    - дублирование кода
        варианты:
            - разные методы внутри класса       "Выделение метода"
            - два подкласса на одном уровне     "Выделение метода" + "Подъем поля"
            - код похож, но не полностью        "Выделение метода" + "Формирование шаблона метода"
                                                        (когда возможно)
            - код в разных классах              "Выделение класса" в один из классов или третий создать
    
    - длинный метод
        длинные методы - трудно понять
        накладные расходы на вызов мелких << расходов на чтение/понимание кода
        эвристич. правило: если нужен комментарий - делай отдельный метод
        у метода с правильным именем нет нужды изучать тело

        "Выделение метода" работает в 99%
        проблема когда есть параметры и временные переменные
        устранение  временных - "Замена временной переменной вызовом метода"
        длинные списки параметров - "Введение граничного объекта" и "Сохранение всего объекта"
                                    "Замена метода объектом-мктодом"
        условные выражения "Декомпозиция условных операторов"

    - большой класс
        много полей и методов
        "Выделение класса" или "Выделение подкласса"
        вместе атрибуты одинакого назначения/смысла (признак - одинаковые суффиксы/префиксы)
        посмотреть как и спользуется класс и "Выделение интерфейса"

    - длинный список параметров
        "Замена параметра вызовом метода" - получение данных через вызов метода объекта (поле или параметр)
        "Сохранение всего параметра" - группу данных, полученных от какого-то объекта заменяем самим объектом
        "Введение граничного объекта" - набор несвязанных параметров в объект

        здесь возникает зависимость между параметром-объектом и объектом, использующим параметр

    - расходящиеся модификации
        один класс часто модифицируется разными способами и по разным причинам
        "Выделение класса"
    
    - стрельба дробью
        одна модификация вынуждает вносить мелкие изменения в большое число классов 
        "Перемещение метода", "Перемещение поля" (может быть в новый класс), "Встраивание класса"

        суть: однозначное отношение между измененияим и классами

    - завистливые функции
        суть классов - хранение данных вместе с процедурами их обработки, плохо когда 
            метод интересуется больше чужим классом
        "Перемещение метода" или "Выделение метода"

    - группы данных
        если несколько элементов данных встречаются вместе в разных местах (полях классов, параметрах),
            стоит выделить в отдельный класс
        проверка: убрать один из элементов и посмотреть остается ли смысл у остальных

    - одержимость элементарными типами
        пример: денежный класс как сумма и валюта вместо int и String
        "Замена значения данных объектом" и др

    - операторы типа switch

